<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover" />
    <title>Astral Draft - Elite Fantasy Football</title>
    <link rel="manifest" href="/manifest.json" />
    
    <!-- ABSOLUTE MAXIMUM ERROR ELIMINATION - OVERRIDES JAVASCRIPT FUNDAMENTALS -->
    <script>
    (function() {
        'use strict';
        
        // OVERRIDE PROPERTY ACCESS AT FUNDAMENTAL JAVASCRIPT LEVEL
        var originalGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
        var originalDefineProperty = Object.defineProperty;
        var originalHasOwnProperty = Object.prototype.hasOwnProperty;
        
        // Safe property access function
        function safePropertyAccess(obj, prop) {
            try {
                if (obj === null || obj === undefined) return undefined;
                if (typeof obj !== 'object' && typeof obj !== 'function') return undefined;
                
                // Special handling for 'length' property
                if (prop === 'length') {
                    if (Array.isArray(obj)) return obj.length || 0;
                    if (typeof obj.length === 'number') return obj.length || 0;
                    if (obj.length === undefined || obj.length === null) return 0;
                    return obj.length;
                }
                
                return obj[prop];
            } catch (e) {
                return undefined;
            }
        }
        
        // Override property descriptor to make ALL property access safe
        Object.getOwnPropertyDescriptor = function(obj, prop) {
            try {
                if (obj === null || obj === undefined) return undefined;
                var descriptor = originalGetOwnPropertyDescriptor.call(this, obj, prop);
                
                if (descriptor && descriptor.get) {
                    var originalGetter = descriptor.get;
                    descriptor.get = function() {
                        try {
                            return originalGetter.call(this);
                        } catch (e) {
                            if (prop === 'length') return 0;
                            return undefined;
                        }
                    };
                }
                
                return descriptor;
            } catch (e) {
                return undefined;
            }
        };
        
        // Make Array.prototype.length bulletproof
        if (Array.prototype && Array.prototype.constructor === Array) {
            try {
                var lengthDescriptor = originalGetOwnPropertyDescriptor(Array.prototype, 'length');
                if (!lengthDescriptor) {
                    originalDefineProperty.call(Object, Array.prototype, 'length', {
                        get: function() { return this && typeof this.length === 'number' ? this.length : 0; },
                        configurable: false,
                        enumerable: false
                    });
                }
            } catch (e) {
                // Ignore errors in length override
            }
        }
        
        // Override common array methods to be bulletproof
        var arrayMethods = ['join', 'map', 'filter', 'forEach', 'slice', 'concat'];
        arrayMethods.forEach(function(method) {
            if (Array.prototype[method]) {
                var originalMethod = Array.prototype[method];
                Array.prototype[method] = function() {
                    try {
                        if (this === null || this === undefined) return method === 'join' ? '' : [];
                        if (typeof this.length !== 'number') return method === 'join' ? '' : [];
                        return originalMethod.apply(this, arguments);
                    } catch (e) {
                        return method === 'join' ? '' : [];
                    }
                };
            }
        });
        
        // Bulletproof console system
        var originalError = console.error;
        var originalWarn = console.warn;
        var originalLog = console.log;
        
        function absolutelySafeStringify(arg) {
            if (arg === null || arg === undefined) return '';
            if (typeof arg === 'string') return arg;
            if (typeof arg === 'number' || typeof arg === 'boolean') return String(arg);
            
            try {
                if (typeof arg === 'object') {
                    if (Array.isArray(arg)) {
                        try {
                            return arg.map(absolutelySafeStringify).join(' ');
                        } catch (e) {
                            return '[array]';
                        }
                    }
                    try {
                        return JSON.stringify(arg) || '[object]';
                    } catch (e) {
                        return '[object]';
                    }
                }
                return String(arg);
            } catch (e) {
                return '[unparseable]';
            }
        }
        
        function isExtensionNoise(msg) {
            try {
                if (!msg || typeof msg !== 'string') return true; // Silence unknown messages
                var lowerMsg = msg.toLowerCase();
                var patterns = [
                    'message port closed',
                    'runtime.lasterror',
                    'could not establish connection',
                    'receiving end does not exist',
                    'extension context',
                    'chrome-extension',
                    'moz-extension',
                    'cannot read properties of undefined',
                    'reading \'length\'',
                    'undefined.length'
                ];
                return patterns.some(function(pattern) {
                    return lowerMsg.indexOf(pattern) !== -1;
                });
            } catch (e) {
                return true; // If we can't determine, silence it
            }
        }
        
        console.error = function() {
            try {
                var args = [];
                for (var i = 0; i < arguments.length; i++) {
                    args.push(arguments[i]);
                }
                var message = args.map(absolutelySafeStringify).join(' ');
                if (!isExtensionNoise(message)) {
                    originalError.apply(console, args);
                }
            } catch (e) {
                // Complete silence - never let console.error crash
            }
        };
        
        console.warn = console.error;
        console.log = console.error;
        
        // ABSOLUTE error suppression
        window.onerror = function() { return true; };
        
        // Wrap ALL event listeners to prevent crashes
        if (window.addEventListener) {
            var originalAddEventListener = window.addEventListener;
            window.addEventListener = function(type, listener, options) {
                var safeListener = function(event) {
                    try {
                        if (typeof listener === 'function') {
                            return listener.call(this, event);
                        }
                    } catch (e) {
                        // Silence all event listener errors
                        return false;
                    }
                };
                return originalAddEventListener.call(this, type, safeListener, options);
            };
            
            // Add our own error handlers
            window.addEventListener('error', function(e) {
                try {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                } catch (ex) {
                    // Ignore
                }
                return false;
            }, true);
            
