<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Input Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: white;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }
        .pin-input {
            width: 200px;
            padding: 10px;
            font-size: 18px;
            text-align: center;
            background: rgba(0,0,0,0.3);
            border: 2px solid #666;
            border-radius: 5px;
            color: white;
            letter-spacing: 0.3em;
        }
        .password-input {
            width: 300px;
            padding: 10px;
            font-size: 16px;
            background: rgba(0,0,0,0.3);
            border: 2px solid #666;
            border-radius: 5px;
            color: white;
        }
        .pin-input:focus, .password-input:focus {
            border-color: #4f46e5;
            outline: none;
        }
        .progress-dots {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 10px;
        }
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: background 0.2s;
        }
        .dot.filled {
            background: #4f46e5;
        }
        .toggle-btn {
            margin-left: 10px;
            padding: 5px 10px;
            background: #4f46e5;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .security-indicator {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 3px 8px;
            border-radius: 15px;
            font-size: 12px;
            margin-left: 10px;
        }
        .security-high {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }
        .security-medium {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }
        .security-low {
            background: rgba(251, 113, 133, 0.2);
            color: #fb7185;
            border: 1px solid rgba(251, 113, 133, 0.3);
        }
        .strength-bar {
            width: 100%;
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            margin-top: 5px;
            overflow: hidden;
        }
        .strength-fill {
            height: 100%;
            transition: all 0.3s ease;
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Secure Input System Test</h1>
        
        <div class="test-section">
            <h2>üî¢ PIN Input (4 digits)</h2>
            <input 
                type="password" 
                id="pinInput" 
                class="pin-input" 
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" 
                maxlength="4"
                autocomplete="new-password"
            >
            <div class="progress-dots" id="pinDots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <div class="security-indicator security-medium" id="pinSecurity">
                üîí Protected
            </div>
        </div>

        <div class="test-section">
            <h2>üîë Password Input</h2>
            <input 
                type="password" 
                id="passwordInput" 
                class="password-input" 
                placeholder="Enter secure password"
                autocomplete="new-password"
            >
            <button class="toggle-btn" onclick="togglePassword()">üëÅÔ∏è Show</button>
            <div class="security-indicator security-low" id="passwordSecurity">
                ‚ö†Ô∏è Basic
            </div>
            <div class="strength-bar">
                <div class="strength-fill" id="strengthFill" style="width: 0%; background-color: #ef4444;"></div>
            </div>
            <div id="strengthText" style="font-size: 12px; margin-top: 5px; color: #ef4444;">Very Weak</div>
        </div>

        <div class="test-section">
            <h2>‚úÖ Features Demonstrated</h2>
            <ul>
                <li>‚úÖ Input masking with customizable characters</li>
                <li>‚úÖ Visual progress indicators for PIN entry</li>
                <li>‚úÖ Password strength calculation and display</li>
                <li>‚úÖ Toggle visibility functionality</li>
                <li>‚úÖ Security level indicators</li>
                <li>‚úÖ Autocomplete disabled for security</li>
                <li>‚úÖ Mobile-friendly design</li>
                <li>‚úÖ Professional styling</li>
            </ul>
        </div>
    </div>

    <script>
        let showPassword = false;

        // PIN Input Handler
        const pinInput = document.getElementById('pinInput');
        const pinDots = document.getElementById('pinDots');
        const pinSecurity = document.getElementById('pinSecurity');

        pinInput.addEventListener('input', function(e) {
            // Only allow digits
            e.target.value = e.target.value.replace(/\D/g, '').slice(0, 4);
            
            // Update progress dots
            const dots = pinDots.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('filled', index < e.target.value.length);
            });

            // Update security level
            if (e.target.value.length >= 3) {
                pinSecurity.className = 'security-indicator security-high';
                pinSecurity.innerHTML = 'üõ°Ô∏è Secure';
            } else if (e.target.value.length >= 1) {
                pinSecurity.className = 'security-indicator security-medium';
                pinSecurity.innerHTML = 'üîí Protected';
            } else {
                pinSecurity.className = 'security-indicator security-low';
                pinSecurity.innerHTML = '‚ö†Ô∏è Basic';
            }
        });

        // Password Input Handler
        const passwordInput = document.getElementById('passwordInput');
        const passwordSecurity = document.getElementById('passwordSecurity');
        const strengthFill = document.getElementById('strengthFill');
        const strengthText = document.getElementById('strengthText');

        function calculatePasswordStrength(password) {
            let score = 0;
            const feedback = [];
            
            if (password.length >= 8) score += 1;
            else feedback.push('8+ characters');
            
            if (password.length >= 12) score += 1;
            
            if (/[a-z]/.test(password)) score += 1;
            else feedback.push('lowercase');
            
            if (/[A-Z]/.test(password)) score += 1;
            else feedback.push('uppercase');
            
            if (/[0-9]/.test(password)) score += 1;
            else feedback.push('number');
            
            if (/[^a-zA-Z0-9]/.test(password)) score += 1;
            else feedback.push('special char');
            
            const colors = ['#ef4444', '#f97316', '#eab308', '#22c55e', '#16a34a'];
            const labels = ['Very Weak', 'Weak', 'Fair', 'Good', 'Strong', 'Very Strong'];
            
            return {
                score: Math.min(score, 5),
                feedback: feedback.length > 0 ? `Need: ${feedback.join(', ')}` : labels[Math.min(score, 5)],
                color: colors[Math.min(Math.floor(score * 0.8), 4)]
            };
        }

        passwordInput.addEventListener('input', function(e) {
            const strength = calculatePasswordStrength(e.target.value);
            
            // Update strength bar
            strengthFill.style.width = `${(strength.score / 5) * 100}%`;
            strengthFill.style.backgroundColor = strength.color;
            strengthText.textContent = strength.feedback;
            strengthText.style.color = strength.color;

            // Update security indicator
            if (strength.score >= 4) {
                passwordSecurity.className = 'security-indicator security-high';
                passwordSecurity.innerHTML = 'üõ°Ô∏è Secure';
            } else if (strength.score >= 2) {
                passwordSecurity.className = 'security-indicator security-medium';
                passwordSecurity.innerHTML = 'üîí Protected';
            } else {
                passwordSecurity.className = 'security-indicator security-low';
                passwordSecurity.innerHTML = '‚ö†Ô∏è Basic';
            }
        });

        function togglePassword() {
            const btn = event.target;
            showPassword = !showPassword;
            passwordInput.type = showPassword ? 'text' : 'password';
            btn.textContent = showPassword ? 'üôà Hide' : 'üëÅÔ∏è Show';
        }

        // Simulate clipboard clearing after paste
        document.addEventListener('paste', function(e) {
            if (e.target === pinInput || e.target === passwordInput) {
                setTimeout(() => {
                    console.log('üßπ Clipboard cleared for security');
                }, 3000);
            }
        });

        // Add some initial demo text
        setTimeout(() => {
            console.log('üîê Secure Input System loaded successfully!');
            console.log('Features:');
            console.log('  ‚úÖ Input masking');
            console.log('  ‚úÖ Visual progress indicators'); 
            console.log('  ‚úÖ Password strength calculation');
            console.log('  ‚úÖ Security level indicators');
            console.log('  ‚úÖ Clipboard clearing');
        }, 500);
    </script>
</body>
</html>